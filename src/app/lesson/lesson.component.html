@if (waiting) {
    <app-spinner></app-spinner>
}
@else {
<article>
    <section>
        <div class="flex flex-col gap-1 p-2">
            <app-lesson-full-text [lesson]="lesson() || undefined" [langCode]="db.langCode()"></app-lesson-full-text>
            <!-- Line-By-Line -->
            <section class="p-4 rounded-lg reading">
                <h2 class="mb-1 text-center">Line-By-Line</h2>
                @if (isChrome()) {
                <div class="w-full p-2 m-1 text-left bg-yellow-200 rounded-lg" translate="yes">
                    Chrome Users: Choose translate from the browser menu to get bilingual texts. You can click on a sentence to hear
                    it. <br>
                    เลือกแปลจากเมนูเบราว์เซอร์เพื่อรับข้อความสองภาษา คุณสามารถคลิกที่ประโยคเพื่อฟังได้
                </div>
                }
                @else {
                <div class="w-full p-2 m-1 text-center bg-yellow-200 rounded-lg" translate="yes">
                    <div class="text-left lin">
                        If you open this website in Chrome, you can choose translate from the browser menu to get bilingual texts.
                        <br>หากคุณเปิดเว็บไซต์นี้ใน Chrome คุณสามารถเลือกแปลจากเมนูเบราว์เซอร์เพื่อรับข้อความสองภาษาได้
                    </div>
                    
                </div>
                }
                <button class="w-full p-1 m-1 button" type="button"
                    (click)="showTranslation = !showTranslation">Toggle Translations</button>
                <h2 class="m-0 font-bold text-center" translate="no">{{lesson()?.title}}</h2>
                <div [innerHTML]="(lesson()?.contentLines || '') | markdown | async" (click)="readThis($event)"
                    [ngClass]="showTranslation ? 'shown' : 'hide-translations'"
                    class="w-full"></div>

            </section>
        </div>
        <div class="flex justify-center py-1">
            <button class="button" type="button" (click)="goBack()">Back</button>
        </div>
    </section>
</article>
}